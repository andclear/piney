# World Info æ’å…¥ä½ç½®å­—æ®µå¯¹åº”å…³ç³»

## ä½ç½®å­—æ®µ (Position)

| è®¾ç½®ç•Œé¢å­—æ®µ | JSON å­—æ®µ | å€¼ |
|-------------|----------|-----|
| "Before Char Defs" (è§’è‰²å®šä¹‰ä¹‹å‰) | `extensions.position` | `0` |
| "After Char Defs" (è§’è‰²å®šä¹‰ä¹‹å) | `extensions.position` | `1` |
| "Before EM" (â†‘EM) | `extensions.position` | `5` |
| "After EM" (â†“EM) | `extensions.position` | `6` |
| "Before AN" (â†‘AN) | `extensions.position` | `2` |
| "After AN" (â†“AN) | `extensions.position` | `3` |

## æ·±åº¦è§¦å‘å­—æ®µ (at Depth)

| è®¾ç½®ç•Œé¢å­—æ®µ | JSON å­—æ®µ | å€¼ |
|-------------|----------|-----|
| "at Depth System" (@D âš™) | `extensions.position` = `4` + `extensions.role` = `0` | åœ¨æŒ‡å®šæ·±åº¦æ’å…¥ |
| "at Depth User" (@D ğŸ‘¤) | `extensions.position` = `4` + `extensions.role` = `1` | åœ¨æŒ‡å®šæ·±åº¦æ’å…¥ |
| "at Depth AI" (@D ğŸ¤–) | `extensions.position` = `4` + `extensions.role` = `2` | åœ¨æŒ‡å®šæ·±åº¦æ’å…¥ |

æ·±åº¦å€¼å­˜å‚¨åœ¨ï¼š`extensions.depth`

`extension_prompt_roles` æšä¸¾å®šä¹‰ï¼ˆ`public/script.js:462-466`ï¼‰ï¼š
- SYSTEM: `0`
- USER: `1`
- ASSISTANT: `2`

## Outlet å­—æ®µ

| è®¾ç½®ç•Œé¢å­—æ®µ | JSON å­—æ®µ | è¯´æ˜ |
|-------------|----------|-----|
| "Outlet" (â¡ï¸) | `extensions.position` = `7` + `outletName` | é€šè¿‡ outlet åç§°è·¯ç”± |

## å…¶ä»–ç›¸å…³å­—æ®µ

| ç•Œé¢å­—æ®µ | JSON å­—æ®µ |
|---------|----------|
| æ’å…¥é¡ºåº (order) | `insertion_order` æˆ– `order` |
| æ·±åº¦å€¼ (depth) | `extensions.depth` |
| è§’è‰²ç±»å‹ (role) | `extensions.role` |

## ä»£ç å®šä¹‰ä½ç½®

- `world_info_position` æšä¸¾å®šä¹‰ï¼š`public/scripts/world-info.js:857-866`
